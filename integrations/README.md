To integrate with 3rd framework, two key points:
1. prepare data, type of `Map[String, String]`
2. prepare messages, type of `(String) => Option[String]`